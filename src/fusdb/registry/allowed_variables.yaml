# Allowed parameter variables.
################ GEOMETRIC PARAMETERS ################
R:
  aliases:
    - major_radius
  default_unit: m
  constraints:
    - R > 0
  description:
    - Major radius.
a:
  aliases:
    - minor_radius
  default_unit: m
  constraints:
    - a > 0
  description:
    - Minor radius.
A:
  default_unit: dimensionless
  constraints:
    - A > 0
  description:
    - Aspect ratio (R/a).
kappa:
  default_unit: dimensionless
  aliases:
    - elongation
  constraints:
    - kappa > 0
  description:
    - Elongation.
kappa_95:
  constraints:
    - kappa_95 > 0
  default_unit: dimensionless
  description:
    - Elongation at 95% flux surface.
delta_95:
  constraints:
    - delta_95 >= 0
    - delta_95 <= 1
  default_unit: dimensionless
  description:
    - Triangularity at 95% flux surface.
delta:
  default_unit: dimensionless
  aliases:
    - triangularity
  constraints:
    - delta >= 0
    - delta <= 1
  description:
    - Core triangularity.
V_p:
  default_unit: m^3
  constraints:
    - V_p > 0
  description:
    - Plasma volume.
S_p:
  default_unit: m^2
  constraints:
    - S_p > 0
  description:
    - Plasma surface area.
squareness:
  default_unit: dimensionless
  aliases:
    - xi
  constraints:
    - squareness >= -0.5
  description:
    - Squareness (xi).
R_max:
  default_unit: m
  constraints:
    - R_max > 0
  description:
    - Outboard major radius extent from the center of the torus.
R_min:
  default_unit: m
  constraints:
    - R_min > 0
  description:
    - Inboard major radius extent from the center of the torus.
Z_max:
  default_unit: m
  constraints:
    - Z_max > 0
  description:
    - Upper vertical extent.
Z_min:
  default_unit: m
  constraints:
    - Z_min > 0
  description:
    - Lower vertical extent.
################ MAGNETIC FIELD & CURRENT ################
B0:
  default_unit: T
  description:
    - Toroidal field on axis.
B_max:
  default_unit: T
  description:
    - Peak field on coil.
B_p:
  default_unit: T
  description:
    - Poloidal field.
I_p:
  default_unit: A
  description:
    - Plasma current.
f_BS:
  default_unit: dimensionless
  constraints:
    - f_BS >= 0
    - f_BS <= 1
  description:
    - Bootstrap current fraction.
f_NI:
  default_unit: dimensionless
  constraints:
    - f_NI >= 0
    - f_NI <= 1
  description:
    - Non-inductive current fraction.
f_CD:
  default_unit: dimensionless
  constraints:
    - f_CD >= 0
    - f_CD <= 1
  description:
    - Driven current fraction (excluding bootstrap).
q95:
  default_unit: dimensionless
  constraints:
    - q95 > 0
  description:
    - Safety factor at 95% flux surface.
q_a:
  default_unit: dimensionless
  constraints:
    - q_a > 0
  description:
    - Edge safety factor.
q_min:
  default_unit: dimensionless
  constraints:
    - q_min > 0
  description:
    - Minimum safety factor.
li:
  default_unit: dimensionless
  description:
    - Internal inductance.
################ PLASMA PRESSURE & ENERGY ################
beta_N:
  default_unit: dimensionless
  description:
    - Normalized beta.
beta_T:
  default_unit: dimensionless
  description:
    - Toroidal beta (fraction).
beta_p:
  default_unit: dimensionless
  description:
    - Poloidal beta.
beta:
  default_unit: dimensionless
  description:
    - Total beta.
beta_limit:
  default_unit: dimensionless
  description:
    - Troyon beta limit.
p_th:
  default_unit: Pa
  description:
    - Thermal pressure. # NOTE: p_tot_avg > p_th generally, as it includes energetic particles (see 2016 - Miyamoto - Plasma Physics for Controlled Fusion)
  aliases:
    - p_tot_avg
p_peak:
  default_unit: Pa
  description:
    - Peak pressure.
W_th:
  default_unit: J
  constraints:
    - W_th >= 0
  description:
    - Thermal stored energy.
################ TEMPERATURE & DENSITY ################
T_avg:
  aliases:
    - T_e_avg
  default_unit: keV
  constraints:
    - T_avg > 0
  description:
    - Volume-averaged electron temperature.
T_e:
  default_unit: keV
  constraints:
    - T_e > 0
  description:
    - Electron temperature.
T0:
  aliases:
    - T_e_peak
  default_unit: keV
  constraints:
    - T0 > 0
  description:
    - On-axis/peak electron temperature.
T_i:
  default_unit: keV
  constraints:
    - T_i >= 0
  description:
    - Ion temperature.
T_i_peak:
  default_unit: keV
  constraints:
    - T_i_peak >= 0
  description:
    - On-axis/peak ion temperature.
n_avg:
  aliases:
    - n_e_avg
  default_unit: 1/m^3
  constraints:
    - n_avg > 0
  description:
    - Volume-averaged electron density.
n0:
  aliases:
    - n_e_peak
  default_unit: 1/m^3
  constraints:
    - n0 > 0
  description:
    - On-axis electron density.
n_e:
  default_unit: 1/m^3
  constraints:
    - n_e >= 0
  description:
    - Electron density.
n_i:
  default_unit: 1/m^3
  constraints:
    - n_i >= 0
  description:
    - Ion density.
n_i_peak:
  default_unit: 1/m^3
  constraints:
    - n_i_peak >= 0
  description:
    - On-axis/peak ion density.
n_GW:
  default_unit: 1/m^3
  constraints:
    - n_GW >= 0
  description:
    - Greenwald density limit.
n_SUDO:
  default_unit: 1/m^3
  constraints:
    - n_SUDO >= 0
  description:
    - Sudo density limit.
f_GW:
  default_unit: dimensionless
  constraints:
    - f_GW >= 0
    - f_GW <= 1
  description:
    - Greenwald fraction.
Z_eff:
  default_unit: dimensionless
  constraints:
    - Z_eff >= 0
  description:
    - Effective charge.
################ ION COMPOSITION ################
f_D:
  default_unit: dimensionless
  constraints:
    - f_D >= 0
    - f_D <= 1
  description:
    - Deuterium ion fraction (n_D / n_i).
f_T:
  default_unit: dimensionless
  constraints:
    - f_T >= 0
    - f_T <= 1
  description:
    - Tritium ion fraction (n_T / n_i).
f_He3:
  default_unit: dimensionless
  constraints:
    - f_He3 >= 0
    - f_He3 <= 1
  description:
    - Helium-3 ion fraction (n_He3 / n_i).
f_He4:
  default_unit: dimensionless
  constraints:
    - f_He4 >= 0
    - f_He4 <= 1
  description:
    - Helium-4 ion fraction (n_He4 / n_i).
################ CONFINEMENT & PERFORMANCE ################
TBR:
  default_unit: dimensionless
  constraints:
    - TBR >= 0
    - TBR <= 1
  description:
    - Tritium breeding ratio.
tau_E:
  default_unit: s
  description:
    - Energy confinement time.
tau_p:
  default_unit: s
  constraints:
    - tau_p > 0
  description:
    - Particle confinement time (generic).
tau_p_D:
  default_unit: s
  constraints:
    - tau_p_D > 0
  description:
    - Deuterium particle confinement time.
tau_p_T:
  default_unit: s
  constraints:
    - tau_p_T > 0
  description:
    - Tritium particle confinement time.
tau_p_He3:
  default_unit: s
  constraints:
    - tau_p_He3 > 0
  description:
    - Helium-3 particle confinement time.
tau_p_He4:
  default_unit: s
  constraints:
    - tau_p_He4 > 0
  description:
    - Helium-4 particle confinement time.
tau_pulse:
  default_unit: s
  constraints:
    - tau_pulse > 0
  description:
    - Pulse length.
H89:
  default_unit: dimensionless
  description:
    - H89 confinement enhancement factor.
H98_y2:
  default_unit: dimensionless
  description:
    - H98(y,2) confinement enhancement factor.
G89:
  default_unit: dimensionless
  description:
    - G89 gain factor.
################ POWER & EXHAUST ################
P_fus:
  default_unit: W
  constraints:
    - P_fus >= 0
  description:
    - Fusion power.
Rr_DT:
  default_unit: 1/s
  constraints:
    - Rr_DT >= 0
  description:
    - D-T fusion reaction rate (volume-integrated).
Rr_DDn:
  default_unit: 1/s
  constraints:
    - Rr_DDn >= 0
  description:
    - D-D fusion reaction rate (He3+n branch).
Rr_DDp:
  default_unit: 1/s
  constraints:
    - Rr_DDp >= 0
  description:
    - D-D fusion reaction rate (T+p branch).
Rr_DHe3:
  default_unit: 1/s
  constraints:
    - Rr_DHe3 >= 0
  description:
    - D-He3 fusion reaction rate.
Rr_TT:
  default_unit: 1/s
  constraints:
    - Rr_TT >= 0
  description:
    - T-T fusion reaction rate.
Rr_He3He3:
  default_unit: 1/s
  constraints:
    - Rr_He3He3 >= 0
  description:
    - He3-He3 fusion reaction rate.
Rr_THe3:
  default_unit: 1/s
  constraints:
    - Rr_THe3 >= 0
  description:
    - T-He3 fusion reaction rate.
P_fus_DT:
  default_unit: W
  constraints:
    - P_fus_DT >= 0
  description:
    - Total D-T fusion power.
P_fus_DT_alpha:
  aliases:
    - P_alpha_DT
  default_unit: W
  constraints:
    - P_fus_DT_alpha >= 0
  description:
    - Alpha power from D-T fusion.
P_fus_DT_n:
  default_unit: W
  constraints:
    - P_fus_DT_n >= 0
  description:
    - Neutron power from D-T fusion.
P_fus_DD:
  default_unit: W
  constraints:
    - P_fus_DD >= 0
  description:
    - Total D-D fusion power.
P_fus_DDn:
  default_unit: W
  constraints:
    - P_fus_DDn >= 0
  description:
    - D-D fusion power from the He3+n branch.
P_fus_DDn_He3:
  aliases:
    - P_He3_DD
  default_unit: W
  constraints:
    - P_fus_DDn_He3 >= 0
  description:
    - Helium-3 power from D-D fusion (He3+n branch).
P_fus_DDn_n:
  default_unit: W
  constraints:
    - P_fus_DDn_n >= 0
  description:
    - Neutron power from D-D fusion (He3+n branch).
P_fus_DDp:
  default_unit: W
  constraints:
    - P_fus_DDp >= 0
  description:
    - D-D fusion power from the T+p branch.
P_fus_DDp_T:
  aliases:
    - P_T_DD
  default_unit: W
  constraints:
    - P_fus_DDp_T >= 0
  description:
    - Triton power from D-D fusion (T+p branch).
P_fus_DDp_p:
  aliases:
    - P_p_DD
  default_unit: W
  constraints:
    - P_fus_DDp_p >= 0
  description:
    - Proton power from D-D fusion (T+p branch).
P_fus_DHe3:
  default_unit: W
  constraints:
    - P_fus_DHe3 >= 0
  description:
    - Total D-He3 fusion power.
P_fus_DHe3_alpha:
  aliases:
    - P_alpha_DHe3
  default_unit: W
  constraints:
    - P_fus_DHe3_alpha >= 0
  description:
    - Alpha power from D-He3 fusion.
P_fus_DHe3_p:
  aliases:
    - P_p_DHe3
  default_unit: W
  constraints:
    - P_fus_DHe3_p >= 0
  description:
    - Proton power from D-He3 fusion.
P_fus_TT:
  default_unit: W
  constraints:
    - P_fus_TT >= 0
  description:
    - Total T-T fusion power.
P_charged:
  default_unit: W
  constraints:
    - P_charged >= 0
  description:
    - Charged-particle fusion power.
P_neutron:
  default_unit: W
  constraints:
    - P_neutron >= 0
  description:
    - Neutron fusion power.
P_th_tot:
  default_unit: W
  constraints:
    - P_th_tot >= 0
  description:
    - Total thermal power.
P_elec_tot:
  default_unit: W
  constraints:
    - P_elec_tot >= 0
  description:
    - Gross electric power.
P_fus_el:
  default_unit: W
  constraints:
    - P_fus_el >= 0
  description:
    - Electric power output.
P_aux:
  default_unit: W
  constraints:
    - P_aux >= 0
  description:
    - Total auxiliary heating power absorbed by the plasma.
P_ohmic:
  default_unit: W
  constraints:
    - P_ohmic >= 0
  description:
    - Ohmic heating power.
P_heating:
  default_unit: W
  constraints:
    - P_heating >= 0
  description:
    - Total plasma heating power (ohmic + charged fusion + auxiliary).
eta_th:
  default_unit: dimensionless
  constraints:
    - eta_th >= 0
    - eta_th <= 1
  description:
    - Plant thermal/electric efficiency.
Q_e:
  default_unit: dimensionless
  constraints:
    - Q_e >= 0
  description:
    - Electric power multiplication.
P_wall:
  default_unit: W/m^2
  constraints:
    - P_wall >= 0
  description:
    - Fusion power wall loading.
P_NBI:
  default_unit: W
  constraints:
    - P_NBI >= 0
  description:
    - Neutral beam injected power.
P_LHCD:
  default_unit: W
  constraints:
    - P_LHCD >= 0
  description:
    - Lower hybrid coupled power.
P_ICRF:
  default_unit: W
  constraints:
    - P_ICRF >= 0
  description:
    - ICRF coupled power.
P_LH:
  default_unit: W
  constraints:
    - P_LH >= 0
  description:
    - L-H transition threshold power.
P_sep:
  aliases:
    - P_SOL
  default_unit: W
  constraints:
    - P_sep >= 0
  description:
    - Power across the separatrix.
P_sep_over_R:
  default_unit: W/m
  constraints:
    - P_sep_over_R >= 0
  description:
    - P_sep divided by major radius.
P_sep_B_over_q95AR:
  default_unit: W*T/m
  description:
    - P_sep * B0 / (q95 * A * R).
P_loss:
  default_unit: W
  constraints:
    - P_loss >= 0
  description:
    - Power loss across the plasma boundary.
P_brem:
  default_unit: W
  aliases:
    - P_bremsstrahlung
    - P_rad_bremsstrahlung
  constraints:
    - P_brem >= 0
  description:
    - Bremsstrahlung radiated power.
P_line:
  default_unit: W
  aliases:
    - P_rad_line
  constraints:
    - P_line >= 0
  description:
    - Line radiated power.
P_sync:
  aliases:
    - P_synchrotron
    - P_rad_synchrotron
  default_unit: W
  constraints:
    - P_sync >= 0
  description:
    - Synchrotron radiated power.
P_rad:
  default_unit: W
  constraints:
    - P_rad >= 0
  description:
    - Core radiated power (or total if not separated).
Q_sci:
  aliases:
    - Q # NOTE: only "Q" may be ambiguous
    - Q_phy
  default_unit: dimensionless
  constraints:
    - Q_sci >= 0
  description:
    - scientific gain factor Q
Q_eng:
  default_unit: dimensionless
  constraints:
    - Q_eng >= 0
  description:
    - engineering gain factor Q_eng.
################ SCALING INPUTS ################
n_la:
  default_unit: 1/m^3
  constraints:
    - n_la >= 0
  description:
    - Line-averaged electron density.
kappa_ipb:
  default_unit: dimensionless
  description:
    - IPB-specific elongation at separatrix.
afuel:
  default_unit: amu
  description:
    - Average fuel mass number.


# TODO(low): check currently allowed variables units and descriptions, then add aliases if needed
